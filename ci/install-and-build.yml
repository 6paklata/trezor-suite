cache:
  key: node-modules-cache
  paths:
    # modules
    - node_modules/
    - packages/blockchain-link/node_modules/
    - packages/components/node_modules/
    - packages/components-v2/node_modules/
    - packages/components-storybook/node_modules/
    - packages/components-storybook-v2/node_modules/
    - packages/connect-explorer/node_modules/
    - packages/rollout/node_modules/
    - packages/suite/node_modules/
    - packages/suite-web/node_modules/
    - packages/suite-desktop/node_modules/
    - packages/suite-native/node_modules/
    - packages/suite-storage/node_modules/
    - packages/translations-manager/node_modules/
    
    # libs
    - packages/components/lib
    - packages/components-v2/lib
    - packages/blockchain-link/lib
    - packages/rollout/lib
    - packages/suite-storage/lib
    - packages/translations-manager/lib

before_script:
    - yarn

install and build:
    stage: setup environment
    script:
        - yarn
        - yarn run build:libs